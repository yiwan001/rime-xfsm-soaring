# Rime schema settings
# encoding: utf-8
# `å¼•å¯¼æ‹¼éŸ³åæŸ¥

schema:
  schema_id: xf
  name: è¥¿é£ç˜¦ç Soaring
  version: "20190122"
  author:
    - åŒ–å¤–æƒ æ°‘

  description: |
    é¡¶åŠŸç±»è¾“å…¥æ³•ï¼Œé€‚åˆå•å­—æ´¾ã€‚
    ç è¡¨ä½œè€…ï¼šåŒ–å¤–æ„šæ°‘ã€‚
    è¾“å…¥æ³•å¹³å°ï¼šä¸­å·éŸµè¾“å…¥æ³•å¹³å°ã€‚
  dependencies:
    - pinyin_simp
    - xfdz


switches:
  - name: _hide_candidate 
    reset: 0
  - name: _hide_comment
    reset: 0
  - name: _hide_key_hint 
    reset: 0
  - name: ascii_mode
    reset: 1
    #states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - options: [ _key_Left ]
    states: [ " â† " ]
  - options: [ _key_Up ]
    states: [ " â†‘ " ]
  - options: [ _key_Down ]
    states: [ " â†“ " ]
  - options: [ _key_Right ]
    states: [ " â†’ " ]
  - options: [ _key_VOICE_ASSIST]
    states: [ "	ğŸ¤	    " ]
  - options: [ _key_Hide ]
   # states: [ ï¹€ ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - affix_segmentor@pinyin_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
#    - reverse_lookup_translator
    - table_translator
    - script_translator@pinyin_lookup
    - history_translator@history
  filters:
    - simplifier
    - uniquifier
    - simplifier@zh_simp
    - reverse_lookup_filter@pinyin_reverse_lookup

speller:
  alphabet: zyxwvutsrqponmlkj23789ihgfedcba,./;'^*!?><$]
  initials: "qwertyuiopasdfghjkl;zxcvbnm,."
  finals: " "
  auto_select: true  #é¡¶å­—ä¸Šå±

#  use_space: true
  algebra: 
    #- 'xlit|_| |'
    - "derive/^([a-z][a-z;])$/$1_/"
#    - "derive/^([a-z][a-z])$/$1__/"
    - "xform/_/Z/"


# ä¸»ç¿»è¯‘å™¨
translator:
  dictionary: xf
  enable_charset_filter: false
  enable_completion: true
  enable_encoder: true
  enable_sentence: false
  enable_user_dict: false
  encode_commit_history: true
  max_phrase_length: 5
#  preedit_format:
#    - 'xform/Z/_/'

# æ»¤é•œ
zh_simp:
  opencc_config: s2t.json
  option_name: zh_simp

# å‰¯ç¿»è¯‘å™¨
pinyin_lookup:
  tag: pinyin_lookup
  dictionary: pinyin_simp
  prefix: "e"             #
  tips: "ã€”æ‹¼éŸ³ã€•"

history:
  input: ";"
  size: 1
  initial_quality: 1000


#åæŸ¥
pinyin_reverse_lookup:
  tags: [ pinyin_lookup ] 
  overwrite_comment: true
  dictionary: xf
  comment_format:
    - "xform/$/ã€•/"
    - "xform/^/ã€”/"
    - "xform/ /, /"

# æ‚é¡¹
punctuator:
  full_shape:
    ' ' : { commit: 'ã€€' }
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    '?' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '/' : { commit: / }
    '\' : [ ã€, ï¼¼ ]
    '|' : [ Â·, ï½œ, 'Â§', 'Â¦' ]
    '`' : ï½€
    '~' : ï½
    '!' : { commit: ï¼ }
    '@' : [ ï¼ , â˜¯ ]
    '#' : [ ï¼ƒ, âŒ˜ ]
    '%' : [ ï¼…, 'Â°', 'â„ƒ' ]
#    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : ï¼†
    '*' : [ ï¼Š, Â·, ãƒ», Ã—, â€», â‚ ]
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : ï¼
    '_' : â€”â€”
    '+' : ï¼‹
    '=' : ï¼
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•, ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]
  half_shape:
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    '/' : { commit: / }
    '?' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : [ ã€, '\', ï¼¼ ]
    '|' : [ Â·, '|', ï½œ, 'Â§', 'Â¦' ]
    '`' : '`'
    '~' : [ '~', ï½ ]
    '!' : { commit: ï¼ }
    '@' : '@'
    '#' : '#'
    '%' : [ '%', ï¼…, 'Â°', 'â„ƒ' ]
#    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : '&'
    '*' : [ '*', ï¼Š, Â·, ãƒ», Ã—, â€», â‚ ]
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : '-'
    '_' : â€”â€”
    '+' : '+'
    '=' : '='
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•,  ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]

ascii_composer:
  good_old_caps_lock: true
  switch_key:
    Shift_L: inline_ascii
    Shift_R: commit_text
    Control_L: noop
    Control_R: noop
    Caps_Lock: commit_code


key_binder:
  bindings:
    - { when: paging, accept: minus, send: Page_Up }
    - { when: has_menu, accept: equal, send: Page_Down }
    - { when: has_menu, accept: space, send: $ }
    #- { when: has_menu, accept: apostrophe, send: Control+1 }

recognizer:
  patterns:
    pinyin_lookup: "^e[a-z]*'?$"
    punct: "^/([0-9]0?|[a-z]+)$"
#    retention: "^[bcdfghjklmnpqrstuvwxyz][a-z;][aeio;]{0,3}$"   #é˜²ä¸‰ç åŠä»¥ä¸Šå•å­—å’Œæ‰€æœ‰è¯ç»„è‡ªåŠ¨ä¸Šå±

menu:
  page_size: 8
  # alternative_select_keys: " aeuio"
  # alternative_select_labels: [" ",ï½,ï½…,ï½•,ï½‰,ï½]
